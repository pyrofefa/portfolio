---
import i18next from "i18next";
import SectionContainer from "./SectionContainer.astro";
import ProjectCard from "./ProjectCard.astro";
import Code from "../icons/Code.astro";

const t = i18next.t.bind(i18next);
const currentLang = i18next.language;

const projects = [
  {
    title: t("projects.mobile.title"),
    description: t("projects.mobile.description"),
    tags: ["Kotlin", "Android", "MVVM", "Room"],
    link: "https://play.google.com/store/apps/details?id=movil.siafeson.citricos",
  },
  {
    title: t("projects.siafeson.title"),
    description: t("projects.siafeson.description"),
    tags: ["Ionic", "TypeScript", "Cordova", "Android"],
    link: currentLang === "es" ? "/es/siafeson" : "/siafeson",
  },
  {
    title: t("projects.csremas.title"),
    description: t("projects.csremas.description"),
    tags: ["SwiftUI", "iOS", "Swift", "Weather API"],
    link: "https://apps.apple.com/us/app/csremas/id1610066647",
  },
  {
    title: t("projects.permits.title"),
    description: t("projects.permits.description"),
    tags: ["Laravel", "PHP", "MySQL", "Bootstrap"],
    link: "https://permisosonora.mx/",
  },
  {
    title: t("projects.sutues.title"),
    description: t("projects.sutues.description"),
    tags: ["Laravel", "Vue.js", "Inertia.js", "Bootstrap"],
    link: "https://sutues.info/",
  },
];
---

<SectionContainer id="projects" class="py-20">
  <div class="max-w-6xl mx-auto">
    <div class="text-center mb-12">
      <div class="flex items-center justify-center gap-3 mb-4">
        <Code class="size-10 text-blue-600 dark:text-blue-400" />
        <h2
          class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white"
        >
          {t("projects.title")}
        </h2>
      </div>
      <p class="text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-auto">
        {t("projects.subtitle")}
      </p>
    </div>

    <div class="grid md:grid-cols-2 gap-6">
      {projects.map((project) => <ProjectCard {...project} />)}
    </div>
  </div>
</SectionContainer>
